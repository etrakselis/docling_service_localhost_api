version: "3.9"

services:
  docling_api:
    build: .                      # build from Dockerfile in the same dir
    container_name: docling-api
    ports:
      - "8000:8000"
    environment:
      SSH_HOST: "${SSH_HOST}"
      SSH_USER: "${SSH_USER}"
      SSH_PASSWORD: "${SSH_PASSWORD}"
      SSH_PRIVATE_KEY: "${SSH_PRIVATE_KEY}"
      SSH_TARGET_PATH: "${SSH_TARGET_PATH}"
      LLM_MODEL: "${LLM_MODEL}"
      LLM_BEARER_TOKEN: "${LLM_BEARER_TOKEN}"
      LLM_MAX_COMPLETION_TOKENS: "${LLM_MAX_COMPLETION_TOKENS}"
      HYBRID_CHUNKER_MAX_TOKENS: "${HYBRID_CHUNKER_MAX_TOKENS}"
    restart: unless-stopped
